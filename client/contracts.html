<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Договоры</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <h1>Рекламная платформа</h1>
    <nav>
      <ul>
        <li><a href="/">Главная</a></li>
        <li><a href="advertisers.html">Рекламодатели</a></li>
        <li><a href="agents.html">Агенты</a></li>
        <li><a href="contracts.html">Договоры</a></li>
        <li><a href="ads.html">Объявления</a></li>
        <li><a href="analytics.html">Аналитика</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h2>Договоры</h2>
    <button id="addContract">Добавить договор</button>
    
    <table id="contractsTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>Рекламодатель</th>
          <th>Агент</th>
          <th>Дата заключения</th>
          <th>Период</th>
          <th>Стоимость</th>
          <th>Статус</th>
          <th>Действия</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="contractModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2 id="modalTitle">Добавить договор</h2>
        <form id="contractForm">
          <input type="hidden" id="contract_id">
    
          <label>Рекламодатель:</label>
          <select id="advertiser_id" required></select>
    
          <label>Агент:</label>
          <select id="agent_id" required></select>
    
          <label>Дата заключения:</label>
          <input type="date" id="conclusion_date" required>
    
          <label>Срок действия:</label>
          <div style="display: flex; gap: 10px;">
            <input type="number" id="duration_value" min="0" step="1" required>
            <select id="duration_unit" required>
              <option value="days">дней</option>
              <option value="months">месяцев</option>
              <option value="years">лет</option>
            </select>
          </div>
    
          <label>Сумма:</label>
          <input type="number" id="total_value" step="0.01" required>
    
          <label>Статус:</label>
          <select id="status" required>
            <option value="активный">активный</option>
            <option value="завершенный">завершенный</option>
            <option value="черновик">черновик</option>
          </select>
    
          <button type="submit">Сохранить</button>
        </form>
      </div>
    </div>

    <div id="statusModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Изменить статус договора</h3>
        <form id="statusForm">
          <input type="hidden" id="contractId">
          <div>
            <label for="new_status">Новый статус:</label>
            <select id="new_status" required>
              <option value="active">Активен</option>
              <option value="suspended">Приостановлен</option>
              <option value="completed">Завершен</option>
              <option value="terminated">Расторгнут</option>
            </select>
          </div>
          <button type="submit">Обновить</button>
        </form>
      </div>
    </div>
  </main>

  <script src="js/contracts.js" type="module"></script>
</body>
</html>